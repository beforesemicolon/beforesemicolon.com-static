import{setupVideoPlayer,setupVideoPosts}from"./video-posts-control.js";import{getPaginator,getUrlPageIndex,setUrlPageIndex}from"./paginator.js";window.onload=()=>{addSearchField(setupVideoPosts),startDarkModeFunctionality(addDarkModeButton()),activateMenu(),setupVideoPlayer(),setupVideoPosts(),loadData("videos").then(a=>{a.shift();for(var b=document.querySelector(".video-section"),c=+b.dataset.videoLimit,d=[],e=getUrlPageIndex(),f=0;f<a.length;f+=c)d.push(a.slice(f,f+c));0!==e&&loadPageVideos(d[e],b);var{paginator:g,resetPaginator:h}=getPaginator(d.length,e,a=>{e!==a&&(setUrlPageIndex(a),loadPageVideos(d[a],b)),e=a});window.addEventListener("popstate",()=>{e=location.search?getUrlPageIndex(e):0,loadPageVideos(d[e],b),h(e)}),b.querySelector(".more-btn").remove(),b.appendChild(g)})};function loadPageVideos(a,b){b.querySelectorAll(".video-post").forEach(a=>a.remove());var c="";a.forEach(a=>{c+="\n\t\t<a href=\"".concat(a.url,"\" class=\"video-post\" data-video-id=\"").concat(a.id,"\" rel=\"noopener\">\n\t\t    <div class=\"post-thumbnail\">\n\t\t        <img src=\"").concat(a.thumbnails.standard.url,"\" alt=\"").concat(a.title,"\">\n\t\t    </div>\n\t\t    <div class=\"post-details\">\n\t\t        <p class=\"post-playlists\"><b>").concat(a.playlists.join(", "),"</b></p>\n\t\t        <h3>").concat(a.title,"</h3>\n\t\t        <p class=\"post-description\">").concat(a.description,"</p>\n\t\t    </div>\n\t\t</a>\n\t\t")});var d=b.querySelector(".latest-video");d.insertAdjacentHTML("afterend",c),setupVideoPosts(),d.nextElementSibling.scrollIntoView({block:"start",behavior:"smooth"})}