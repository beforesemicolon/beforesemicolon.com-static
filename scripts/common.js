function asyncGeneratorStep(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function _asyncToGenerator(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a){asyncGeneratorStep(h,d,e,f,g,"next",a)}function g(a){asyncGeneratorStep(h,d,e,f,g,"throw",a)}var h=a.apply(b,c);f(void 0)})}}var env=document.body.dataset.env;function doOnProductionOnly(a){"development"!==env&&a()}function addDarkModeButton(){var a=document.querySelector(".control-bar");if(a){a.insertAdjacentHTML("beforeend","<button type=\"button\" class=\"dark-light-btn icon dark-mode-icon\" aria-label=\"dark mode toggle\"><span>Dark Mode</span></button>");var b=a.querySelector(".dark-light-btn");return"light"===localStorage.getItem("color-mode")&&b.classList.add("inactive"),b}return null}var searchContent=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"";return Promise.all([loadData("videos"),loadData("articles")]).then(b=>b.flat().filter(b=>{var c="".concat(b.title," ").concat(b.description||""," ").concat(b.intro||""," ").concat(b.playlistName||"").toLowerCase();return 0<=c.search(a.toLowerCase())}))},handlePositionSearchContainer=(a,b)=>{var{top:c,height:d}=b;if(650>=window.innerWidth){var{left:e}=a.getBoundingClientRect(),{top:f}=a.parentNode.getBoundingClientRect();f<=c+d?requestAnimationFrame(()=>{a.classList.add("sticky"),a.style.position="fixed",a.style.top=c+d+"px",a.style.left=e+"px",a.style.width="calc(100% - ".concat(2*e,"px)"),a.style.zIndex="1000"}):a.className.includes("sticky")&&(a.classList.remove("sticky"),a.removeAttribute("style"))}else a.className.includes("sticky")&&(a.classList.add("sticky"),a.removeAttribute("style"))},createSearchResultItem=a=>"\n\t\t<a class=\"search-result\" href=\"".concat(a.url,"\" ").concat(a.channelId?"data-video-id=\"".concat(a.id,"\""):""," rel=\"noopener\">\n\t\t\t<div class=\"thumbnail-wrapper\">\n\t\t\t\t\t<div class=\"post-thumbnail\">\n\t\t\t        <img src=\"").concat(a.thumbnail||a.thumbnails.medium.url,"\" alt=\"").concat(a.title,"\">\n\t\t\t    </div>\n\t\t\t</div>\n\t\t\t<div class=\"post-details\">\n\t\t\t\t\t<h3>").concat(a.title,"</h3>\n\t\t\t\t\t<p>").concat(a.intro||a.description,"</p>\n\t\t\t</div>\n\t\t</a>\n\t"),handleSearchInput=(a,b)=>{var c=document.createElement("div");c.id="search-results";var d=a.querySelector("section")||a.querySelector("article"),f=!1,g=()=>{document.querySelector("main").addEventListener("scroll",g,{passive:!0}),window.addEventListener("resize",g)};return/*#__PURE__*/function(){var a=_asyncToGenerator(function*(a){var{value:e}=a.target;3<=e.length?(c.innerHTML="<h2>Search Results for \"".concat(e,"\"</h2><p class=\"search-desc\">Searching...</p>"),!f&&(d.insertAdjacentElement("beforebegin",c),f=!0,g(),d.style.display="none"),searchContent(e).then(a=>{a.length?(c.innerHTML="<h2>Search Results for \"".concat(e,"\"</h2>\n\t\t\t\t\t\t\t\t").concat(a.map(createSearchResultItem).join(""),"\n\t\t\t\t\t\t"),b()):c.innerHTML="<h2>Search Results for \"".concat(e,"\"</h2><p class=\"search-desc\">Nothing Found!</p>"),doOnProductionOnly(()=>gtag("event","search-performed",{event_category:"search",event_action:"input",event_label:"search: ".concat(e)}))}).catch(()=>{c.innerHTML="<h2>Search Results for \"".concat(e,"\"</h2><p class=\"search-desc\">Nothing Found!</p>")})):f&&(f=!1,c.remove(),d.removeAttribute("style"))});return function(){return a.apply(this,arguments)}}()};function addSearchField(a){var b=document.querySelector(".search-container");if(b){var c=document.querySelector("header"),d=document.querySelector("aside"),e=document.querySelector(".content-wrapper");b.insertAdjacentHTML("afterbegin","<label class=\"search-widget side-widget icon search-icon\" aria-label=\"search\"><input type=\"search\" placeholder=\"Search...\" required><button type=\"button\" class=\"clear-btn icon close-icon\"><span>x</span></button></label>"),d&&(d.style.paddingTop="150px");var f=()=>handlePositionSearchContainer(b,c.getBoundingClientRect()),g=()=>e.scrollIntoView({block:"start",behavior:"smooth"});f(),b.querySelector(".clear-btn").addEventListener("click",a=>{a.target.previousElementSibling.value="";var b=document.getElementById("search-results");b.nextElementSibling.removeAttribute("style"),b.remove(),g()}),document.querySelector("main").addEventListener("scroll",f,{passive:!0}),window.addEventListener("resize",f);var h=b.querySelector("input");return h.addEventListener("input",handleSearchInput(e,a)),h.addEventListener("focus",g),b.querySelector(".search-widget")}return null}function startDarkModeFunctionality(a){if(a){var b=document.querySelector("html");a.addEventListener("click",()=>{var c="light"===b.getAttribute("color-mode")?"dark":"light";b.setAttribute("color-mode",c),a.classList.toggle("inactive"),localStorage.setItem("color-mode",c)})}}function activateMenu(){var a=document.querySelector("nav");a&&(a.addEventListener("click",b=>{1024>=window.innerWidth&&b.target===a&&(a.classList.toggle("active"),!a.className.includes("active")&&a.blur())}),document.body.addEventListener("click",b=>{!a.contains(b.target)&&a.className.includes("active")&&a.classList.remove("active")}))}function inIframe(){try{return window.self!==window.top}catch(a){return!0}}function loadData(a){return fetch("/api/".concat(a)).then(a=>a.json())}