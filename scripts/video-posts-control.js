var htmlContent=a=>"\n\t<div id=\"player\"></div>\n\t<div class=\"playing-options\">\n\t\t<a href=\"https://www.youtube.com/watch?v=".concat(a,"\" class=\"yt-link\" target=\"_blank\">Watch on Youtube Instead</a>\n\t\t<button class=\"close-btn\">close</button>\n\t</div>\n"),getHeight=a=>Math.round(9*(a/16)),playState={3:"BUFFERING",5:"CUED",0:"ENDED",2:"PAUSED",1:"PLAYING","-1":"UNSTARTED"};function handleVideoPost(a,b,c){var d=(a.querySelector("h3")||a.querySelector("h2")).textContent;doOnProductionOnly(()=>gtag("event","video-clicked",{event_category:"video",event_action:"click",event_label:d}));var{innerWidth:e}=window,f=640<e?1280:480<e?640:320<e?480:120<e?320:120;f=f>=e-50?e-50:f;var g=getHeight(f),h=document.createElement("div");h.id="player-wrapper",h.style="width: ".concat(f,"px; height: ").concat(g,"px"),h.innerHTML=htmlContent(b),c.appendChild(h);var i=c.querySelector(".yt-link");i&&i.addEventListener("click",()=>{doOnProductionOnly(()=>gtag("event","video-clicked",{event_category:"video",event_action:"click",event_label:"watch on youtube - "+d}))});var j=new YT.Player("player",{width:f,height:g,videoId:b,playerVars:{modestbranding:1,showinfo:0},events:{onReady:()=>{},onStateChange:()=>{}}}),k=a=>{(a.target===c||a.currentTarget.className.includes("close-btn"))&&(j.stopVideo(),c.style.display="none",h.remove(),window.removeEventListener("resize",k))};c.querySelector(".close-btn").addEventListener("click",k),window.addEventListener("resize",k)}var onVideoClick=a=>{a.preventDefault();var b=a.currentTarget,c=document.getElementById("player-container");c.style.display="block",handleVideoPost(b,b.dataset.videoId,c)};export function setupVideoPosts(){var a=document.querySelectorAll("[data-video-id]");a.forEach(a=>{a.removeEventListener("click",onVideoClick),a.addEventListener("click",onVideoClick)})}export function setupVideoPlayer(){var a=document.createElement("script");a.src="https://www.youtube.com/iframe_api",document.body.appendChild(a);var b=document.createElement("div");b.id="player-container",b.innerHTML="\n\t\t<div class=\"ad-wrapper\"\n\t\t\tstyle=\"\n\t\t\t\tposition: absolute; top: 5px; left: 50%; z-index: 1;\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tmax-width: 1280px; width: 100%;\n\t\t\t\tdisplay: flex; justify-content: center;\">\n\t\t\t<ins class=\"adsbygoogle\"\n\t     style=\"display:inline-block;width:1200px;height:100px\"\n\t     data-ad-client=\"ca-pub-5455847849143562\"\n\t     data-ad-slot=\"1187121250\"></ins>\n\t\t</div>\n\t",document.body.append(b);try{(adsbygoogle=window.adsbygoogle||[]).push({})}catch(a){}}